<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Data.Wheat.Combinators</title><link href="purity.css" rel="stylesheet" type="text/css" title="Purity" /><link href="ocean.css" rel="alternate stylesheet" type="text/css" title="Ocean" /><link href="xhaddock.css" rel="alternate stylesheet" type="text/css" title="Classic" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Wheat-Combinators.html");};
//]]>
</script></head><body><div class="section" id="package-header"><ul class="links" id="page-menu"><li><a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">wheat-0.0.0.0: Yet another binary (de-)serialisation library</p></div><div id="content" class="has-sidebar"><h1 class="module-name">Data.Wheat.Combinators</h1><div id="sidebar"><div class="section" id="module-info"><p class="caption">Information</p><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table></div></div><div class="section" id="description"><p class="caption">Description</p><div class="doc" lang="en"><p>A collection of commonly-used combinators to build up larger
 codecs.</p></div></div><div class="section" id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:-60-:-62-">(&lt;:&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e (d1, d2)</li><li class="src short"><a href="#v:-60--60-:-62--62-">(&lt;&lt;:&gt;&gt;)</a> :: (Monoid b, Monoid d) =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d</li><li class="src short"><a href="#v:-60-:-62--62-">(&lt;:&gt;&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2</li><li class="src short"><a href="#v:-60--60-:-62-">(&lt;&lt;:&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1</li><li class="src short"><a href="#v:-60--43--43--62-">(&lt;++&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e1 d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e2 d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b (e1, e2) (d1, d2)</li><li class="src short"><a href="#v:elementwise">elementwise</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b [e] [d]</li><li class="src short"><a href="#v:header">header</a> :: Monoid b =&gt; (e -&gt; h) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b h h -&gt; (h -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d</li><li class="src short"><a href="#v:separate">separate</a> :: Monoid b =&gt; (e -&gt; (e1, e2)) -&gt; ((d1, d2) -&gt; d) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e1 d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e2 d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d</li><li class="src short"><a href="#v:wrap">wrap</a> :: (d' -&gt; Maybe d) -&gt; (e -&gt; Maybe e') -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e' d' -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d</li></ul></div><div class="section" id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:-60-:-62-" class="def">(&lt;:&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e (d1, d2) <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#%3C%3A%3E" class="link">Source</a></p><div class="doc" lang="en"><p>Sequential composition of codecs.</p><p>When encoding, the input value is encoded with both codecs and the
 results are concatenated. When decoding, the remaining bytestring
 from the first codec is used as input to the second.</p></div></div><div class="top"><p class="src"><a name="v:-60--60-:-62--62-" class="def">(&lt;&lt;:&gt;&gt;)</a> :: (Monoid b, Monoid d) =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#%3C%3C%3A%3E%3E" class="link">Source</a></p><div class="doc" lang="en"><p>Sequential composition of codecs, combining the results of
 decoding monoidally.</p></div></div><div class="top"><p class="src"><a name="v:-60-:-62--62-" class="def">(&lt;:&gt;&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#%3C%3A%3E%3E" class="link">Source</a></p><div class="doc" lang="en"><p>Right-biased sequential composition of codecs.</p><p>Encoding behaviour is the same as <code><a href="Data-Wheat-Combinators.html#v:-60-:-62-">&lt;:&gt;</a></code>, decoding throws away the
 result of the first codec.</p></div></div><div class="top"><p class="src"><a name="v:-60--60-:-62-" class="def">(&lt;&lt;:&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d1 <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#%3C%3C%3A%3E" class="link">Source</a></p><div class="doc" lang="en"><p>Left-biased sequential composition of codecs.</p><p>Encoding behaviour is the same as <code><a href="Data-Wheat-Combinators.html#v:-60-:-62-">&lt;:&gt;</a></code>, decoding throws away the
 result of the second codec.</p></div></div><div class="top"><p class="src"><a name="v:-60--43--43--62-" class="def">(&lt;++&gt;)</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e1 d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e2 d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b (e1, e2) (d1, d2) <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#%3C%2B%2B%3E" class="link">Source</a></p><div class="doc" lang="en"><p>Combine two codecs into a codec for tuples of those types, where
 the encoded forms of each element are concatenated.</p></div></div><div class="top"><p class="src"><a name="v:elementwise" class="def">elementwise</a> :: Monoid b =&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b [e] [d] <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#elementwise" class="link">Source</a></p><div class="doc" lang="en"><p>Lift a codec over a type to over a list of that type.</p><p>Encoded elements are concatenated. Decoding never fails, as an
 empty list is acceptable.</p></div></div><div class="top"><p class="src"><a name="v:header" class="def">header</a> :: Monoid b =&gt; (e -&gt; h) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b h h -&gt; (h -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#header" class="link">Source</a></p><div class="doc" lang="en"><p>Encode a value as a combination of header and encoded value. The
 codec used for encoding/decoding the value itself receives the
 (encoded/decoded) header as a parameter.</p></div></div><div class="top"><p class="src"><a name="v:separate" class="def">separate</a> :: Monoid b =&gt; (e -&gt; (e1, e2)) -&gt; ((d1, d2) -&gt; d) -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e1 d1 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e2 d2 -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#separate" class="link">Source</a></p><div class="doc" lang="en"><p>Apply a divide-and-conquer approach: given a function to split up
 the encoding into two smaller components, and a function to combine
 the smaller components after decoding, construct a codec for the
 more complex type.</p></div></div><div class="top"><p class="src"><a name="v:wrap" class="def">wrap</a> :: (d' -&gt; Maybe d) -&gt; (e -&gt; Maybe e') -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e' d' -&gt; <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Combinators.html#wrap" class="link">Source</a></p><div class="doc" lang="en"><p>Given functions to convert the types, wrap one codec inside another.</p><p>Encoding and decoding will fail if the function does, even if the
 inner codec succeeds.</p></div></div></div></div><div class="section" id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>