<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Wheat.Types</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Wheat-Types.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Wheat-Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">wheat-0.0.0.0: Yet another binary (de-)serialisation library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Wheat.Types</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Codecs</a></li><li><a href="#g:2">Decoders</a></li><li><a href="#g:3">Encoders</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Wheat is based around bidirectional codecs, although they are not
 constrained to deocde to the same type they decode (see
 <code><a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a></code>). For the common case, these two type parameters will be
 the same.</p><p>Decoders are Monads, this means we can construct a decoder for a
 larger type out of decoders for smaller types along with a function
 to combine the parts. Encoders are Divisibles, this means we can
 construct an encoder for a larger type out of encoders for smaller
 types along with a function to split the whole.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Codec">Codec</a> a = <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> a a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Codec-39-">Codec'</a> d e <span class="keyword">where</span><ul class="subs"><li><a href="#v:Plain">Plain</a> ::  <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> d -&gt; <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> e -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e</li><li><a href="#v:Wrap">Wrap</a> ::  (d' -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> d) -&gt; (e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> e') -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d' e' -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Decoder">Decoder</a> a = <a href="#v:Decoder">Decoder</a> {<ul class="subs"><li><a href="#v:runDecoder">runDecoder</a> :: <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (a, <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</li></ul>}</li><li class="src short"><a href="#v:decode">decode</a> :: <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> d</li><li class="src short"><a href="#v:decoderOf">decoderOf</a> :: <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> d</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Encoder">Encoder</a> a = <a href="#v:Encoder">Encoder</a> {<ul class="subs"><li><a href="#v:runEncoder">runEncoder</a> :: a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Builder.html#t:Builder">Builder</a></li></ul>}</li><li class="src short"><a href="#v:encode">encode</a> :: e -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Builder.html#t:Builder">Builder</a></li><li class="src short"><a href="#v:encoderOf">encoderOf</a> :: <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> e</li></ul></div><div id="interface"><h1 id="g:1">Codecs</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Codec" class="def">Codec</a> a = <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> a a <a href="src/Data-Wheat-Types.html#Codec" class="link">Source</a></p><div class="doc"><p>A codec where the type we encode is the same as the type we
 decode to. Most of the primitive codec functions will have this
 type.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Codec-39-" class="def">Codec'</a> d e <span class="keyword">where</span> <a href="src/Data-Wheat-Types.html#Codec%27" class="link">Source</a></p><div class="doc"><p>A more general codec where we are covariant in the type we encode
 but contravariant in the type we decode.</p><p>There are two constructors,</p><ul><li><code>Plain</code>: The simplest type of codec is just a pair of a <code><a href="Data-Wheat-Types.html#t:Decoder">Decoder</a></code>
   and <code><a href="Data-Wheat-Types.html#t:Encoder">Encoder</a></code>.</li><li><code>Wrap</code>: Sometimes it's useful to operate in terms of one type,
   but do transformation to another under the hood (see the
   bencoding example in the README), as this means we can have a
   collection of codecs which are conceptually the same type, but
   have very different implementations.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Plain" class="def">Plain</a> ::  <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> d -&gt; <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> e -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Wrap" class="def">Wrap</a> ::  (d' -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> d) -&gt; (e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> e') -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d' e' -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e</td><td class="doc empty">&nbsp;</td></tr></table></div></div><h1 id="g:2">Decoders</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Decoder" class="def">Decoder</a> a <a href="src/Data-Wheat-Types.html#Decoder" class="link">Source</a></p><div class="doc"><p>A decoder is a function which, given some input bytestring, will
 attempt to decode it according to the construction of the decoder
 and return any remaining input.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Decoder" class="def">Decoder</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runDecoder" class="def">runDecoder</a> :: <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (a, <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Decoder" class="caption collapser" onclick="toggleSection('i:Decoder')">Instances</p><div id="section.i:Decoder" class="show"><table><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> <a href="src/Data-Wheat-Types.html#line-73" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Functor.html#t:Functor">Functor</a> <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> <a href="src/Data-Wheat-Types.html#line-58" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> <a href="src/Data-Wheat-Types.html#line-61" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Alternative">Alternative</a> <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> <a href="src/Data-Wheat-Types.html#line-68" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Monad.html#t:MonadPlus">MonadPlus</a> <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> <a href="src/Data-Wheat-Types.html#line-80" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:decode" class="def">decode</a> :: <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> d <a href="src/Data-Wheat-Types.html#decode" class="link">Source</a></p><div class="doc"><p>Run a codec's decoder.</p></div></div><div class="top"><p class="src"><a name="v:decoderOf" class="def">decoderOf</a> :: <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="Data-Wheat-Types.html#t:Decoder">Decoder</a> d <a href="src/Data-Wheat-Types.html#decoderOf" class="link">Source</a></p><div class="doc"><p>Get the decoder of a codec.</p></div></div><h1 id="g:3">Encoders</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Encoder" class="def">Encoder</a> a <a href="src/Data-Wheat-Types.html#Encoder" class="link">Source</a></p><div class="doc"><p>An encoder is a function which, given some input value, will
 attempt to encode it according to the construction of the encoder,
 producing a ByteString builder.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Encoder" class="def">Encoder</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runEncoder" class="def">runEncoder</a> :: a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Builder.html#t:Builder">Builder</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Encoder" class="caption collapser" onclick="toggleSection('i:Encoder')">Instances</p><div id="section.i:Encoder" class="show"><table><tr><td class="src">Contravariant <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> <a href="src/Data-Wheat-Types.html#line-102" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Divisible <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> <a href="src/Data-Wheat-Types.html#line-105" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Decidable <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> <a href="src/Data-Wheat-Types.html#line-114" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> a) <a href="src/Data-Wheat-Types.html#line-119" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:encode" class="def">encode</a> :: e -&gt; <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/bytestring-0.10.6.0/docs/Data-ByteString-Builder.html#t:Builder">Builder</a> <a href="src/Data-Wheat-Types.html#encode" class="link">Source</a></p><div class="doc"><p>Run a codec's encoder.</p></div></div><div class="top"><p class="src"><a name="v:encoderOf" class="def">encoderOf</a> :: <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> d e -&gt; <a href="Data-Wheat-Types.html#t:Encoder">Encoder</a> e <a href="src/Data-Wheat-Types.html#encoderOf" class="link">Source</a></p><div class="doc"><p>Get the encoder of a codec.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>