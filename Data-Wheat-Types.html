<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Data.Wheat.Types</title><link href="purity.css" rel="stylesheet" type="text/css" title="Purity" /><link href="ocean.css" rel="alternate stylesheet" type="text/css" title="Ocean" /><link href="xhaddock.css" rel="alternate stylesheet" type="text/css" title="Classic" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Wheat-Types.html");};
//]]>
</script></head><body><div class="section" id="package-header"><ul class="links" id="page-menu"><li><a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">wheat-0.0.0.0: Yet another binary (de-)serialisation library</p></div><div id="content" class="has-sidebar"><h1 class="module-name">Data.Wheat.Types</h1><div id="sidebar"><div class="section" id="module-info"><p class="caption">Information</p><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table></div><div class="section" id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Codecs</a></li><li><a href="#g:2">Decoders</a></li><li><a href="#g:3">Encoders</a></li></ul></div></div><div class="section" id="description"><p class="caption">Description</p><div class="doc" lang="en"><p>Wheat is based around bidirectional codecs, although they are not
 constrained to deocde to the same type they decode (see
 <code><a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a></code>). For the common case, these two type parameters will be
 the same.</p><p>Decoders are Monads, this means we can construct a decoder for a
 larger type out of decoders for smaller types along with a function
 to combine the parts. Encoders are Divisibles, this means we can
 construct an encoder for a larger type out of encoders for smaller
 types along with a function to split the whole.</p></div></div><div class="section" id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Codec">Codec</a> a = <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Codec-39-">Codec'</a> e d = <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> ByteString Builder e d</li><li class="src short"><span class="keyword">data</span> <a href="#t:GCodec">GCodec</a> i b e d = <a href="#v:Codec">Codec</a> {<ul class="subs"><li><a href="#v:encoderOf">encoderOf</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b e</li><li><a href="#v:decoderOf">decoderOf</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i d</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Decoder">Decoder</a> a = <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> ByteString a</li><li class="src short"><span class="keyword">type</span> <a href="#t:GDecoder">GDecoder</a> i a = StateT i Both a</li><li class="src short"><a href="#v:toDecoder">toDecoder</a> :: (i -&gt; Maybe (a, i)) -&gt; <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a</li><li class="src short"><a href="#v:toDecoder-39-">toDecoder'</a> :: (i -&gt; Both (a, i)) -&gt; <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a</li><li class="src short"><a href="#v:runDecoder">runDecoder</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a -&gt; i -&gt; Maybe (a, i)</li><li class="src short"><a href="#v:runDecoder-39-">runDecoder'</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a -&gt; i -&gt; Both (a, i)</li><li class="src short"><a href="#v:decode">decode</a> :: <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; i -&gt; Maybe d</li><li class="src short"><span class="keyword">type</span> <a href="#t:Encoder">Encoder</a> a = <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> Builder a</li><li class="src short"><span class="keyword">type</span> <a href="#t:GEncoder">GEncoder</a> b a = Op (Both b) a</li><li class="src short"><a href="#v:toEncoder">toEncoder</a> :: (a -&gt; Maybe b) -&gt; <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a</li><li class="src short"><a href="#v:toEncoder-39-">toEncoder'</a> :: (a -&gt; Both b) -&gt; <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a</li><li class="src short"><a href="#v:runEncoder">runEncoder</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a -&gt; a -&gt; Maybe b</li><li class="src short"><a href="#v:runEncoder-39-">runEncoder'</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a -&gt; a -&gt; Both b</li><li class="src short"><a href="#v:encode">encode</a> :: <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; e -&gt; Maybe b</li></ul></div><div class="section" id="interface"><h1 id="g:1">Codecs</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Codec" class="def">Codec</a> a = <a href="Data-Wheat-Types.html#t:Codec-39-">Codec'</a> a a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#Codec" class="link">Source</a></p><div class="doc" lang="en"><p>A codec where the type we encode is the same as the type we
 decode to. Most of the primitive codec functions will have this
 type.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Codec-39-" class="def">Codec'</a> e d = <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> ByteString Builder e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#Codec%27" class="link">Source</a></p><div class="doc" lang="en"><p>A more general codec where we are contravariant in the type we
 encode but covariant in the type we decode.</p><p>The Semigroup and Monoid instances represent left-biased choice. If
 the left codec fails, the right will be tried.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:GCodec" class="def">GCodec</a> i b e d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#GCodec" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Codec" class="def">Codec</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:encoderOf" class="def">encoderOf</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b e</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:decoderOf" class="def">decoderOf</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i d</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:GCodec" class="caption collapser" onclick="toggleSection('i:GCodec')">Instances</p><div id="section.i:GCodec" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Profunctor (<a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b)</span> <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#line-45" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Monoid (<a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d)</span> <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#line-55" class="link">Source</a></td><td class="doc" lang="en"><p><code>mempty</code> is the codec which always fails.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">Semigroup (<a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d)</span> <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#line-49" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Decoders</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Decoder" class="def">Decoder</a> a = <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> ByteString a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#Decoder" class="link">Source</a></p><div class="doc" lang="en"><p>A decoder is a function which, given some input bytestring, will
 attempt to decode it according to the construction of the decoder
 and return any remaining input.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GDecoder" class="def">GDecoder</a> i a = StateT i Both a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#GDecoder" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:toDecoder" class="def">toDecoder</a> :: (i -&gt; Maybe (a, i)) -&gt; <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#toDecoder" class="link">Source</a></p><div class="doc" lang="en"><p>Construct a decoder.</p></div></div><div class="top"><p class="src"><a name="v:toDecoder-39-" class="def">toDecoder'</a> :: (i -&gt; Both (a, i)) -&gt; <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#toDecoder%27" class="link">Source</a></p><div class="doc" lang="en"><p>Variant of <code><a href="Data-Wheat-Types.html#v:toDecoder">toDecoder</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:runDecoder" class="def">runDecoder</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a -&gt; i -&gt; Maybe (a, i) <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#runDecoder" class="link">Source</a></p><div class="doc" lang="en"><p>Run a decoder.</p></div></div><div class="top"><p class="src"><a name="v:runDecoder-39-" class="def">runDecoder'</a> :: <a href="Data-Wheat-Types.html#t:GDecoder">GDecoder</a> i a -&gt; i -&gt; Both (a, i) <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#runDecoder%27" class="link">Source</a></p><div class="doc" lang="en"><p>Variant of <code><a href="Data-Wheat-Types.html#v:runDecoder">runDecoder</a></code></p></div></div><div class="top"><p class="src"><a name="v:decode" class="def">decode</a> :: <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; i -&gt; Maybe d <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#decode" class="link">Source</a></p><div class="doc" lang="en"><p>Run a codec's decoder.</p></div></div><h1 id="g:3">Encoders</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Encoder" class="def">Encoder</a> a = <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> Builder a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#Encoder" class="link">Source</a></p><div class="doc" lang="en"><p>An encoder is a function which, given some input value, will
 attempt to encode it according to the construction of the encoder,
 producing a ByteString builder.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GEncoder" class="def">GEncoder</a> b a = Op (Both b) a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#GEncoder" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:toEncoder" class="def">toEncoder</a> :: (a -&gt; Maybe b) -&gt; <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#toEncoder" class="link">Source</a></p><div class="doc" lang="en"><p>Construct an encoder.</p></div></div><div class="top"><p class="src"><a name="v:toEncoder-39-" class="def">toEncoder'</a> :: (a -&gt; Both b) -&gt; <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#toEncoder%27" class="link">Source</a></p><div class="doc" lang="en"><p>Variant of <code><a href="Data-Wheat-Types.html#v:toEncoder">toEncoder</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:runEncoder" class="def">runEncoder</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a -&gt; a -&gt; Maybe b <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#runEncoder" class="link">Source</a></p><div class="doc" lang="en"><p>Run an encoder.</p></div></div><div class="top"><p class="src"><a name="v:runEncoder-39-" class="def">runEncoder'</a> :: <a href="Data-Wheat-Types.html#t:GEncoder">GEncoder</a> b a -&gt; a -&gt; Both b <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#runEncoder%27" class="link">Source</a></p><div class="doc" lang="en"><p>Variant of <code><a href="Data-Wheat-Types.html#v:runEncoder">runEncoder</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:encode" class="def">encode</a> :: <a href="Data-Wheat-Types.html#t:GCodec">GCodec</a> i b e d -&gt; e -&gt; Maybe b <a href="http://barrucadu.github.io/wheat/source/Data-Wheat-Types.html#encode" class="link">Source</a></p><div class="doc" lang="en"><p>Run a codec's encoder.</p></div></div></div></div><div class="section" id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>